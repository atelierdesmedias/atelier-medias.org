# Installation


1. lancer son serveur local php (avec [MAMP](https://www.mamp.info/en/downloads/) par exemple)

1. créer un dossier nommé "adm" (ou whatever...) puis cloner le projet dedans.
     ```shell
     // se déplacer dans le dossier 
     $ cd mon-dossier-adm/ 
     
     // cloner le repos avec ssh
     $ git clone https://github.com/atelierdesmedias/atelier-medias.org.git
     ```
 
1. installer les dépendance node

    ```shell
    $ yarn install
    ``` 

1. installer des dependances composer : Wordpress et ses plugins associés sont installés via composer (propre !).
Pour les installer :   

    ```shell
    // se déplacer dans le dossier dist
    $ cd dist/
    
    // installer wordpress et ses plugins
    $ composer install
    ``` 

1. installer la base de donnée mysql `adm-wp.sql` présent dans le root du repos.

1. depuis le root du projet `./`, créer un ficher d'environnement. (ce dernier permet entre autre, 
de définir des variables d'environnements comme la base url)  
    
    ```shell
    $ node willybe creatEnv
    ```
    
    Un fichier de propriété relatif à l'environement créé apparait dans [src/env/](../src/env). 
    Configurer les propriétés d'environnement local.
       
    ```shell
    properties/                                                                
    │── .envName.js                # → contient le nom de l'environement défini
    └── myname.properties.js       # → contient les propriétés de l'environnement nommé...   
    ```
    
1. Lancer l'environement de développement 
 
   ```shell
   // lancer webpack + devServer + hot reload
   $ node willybe dev
          
1. Créer un composant front avec l'outil scaffolder du framework:  
  
    ```shell
    $ node willybe skaffold  
    ```       
    Un composant  est créé dans le dossier choisi: 
    
    ```shell
    src/                         
    ├── ...                
    ├── {bundle}/                       
    │       └── monComposant          
    │              |── monComposant.scss      # → feuille de style sass relatif à ce composant
    │              └── monComposant.ts        # → fichier typescript relatif à ce composant          
    ```  
 
    **IMPORTANT** : étant donné que le projet est un porjet DOM PHP, une fois le composant créé, 
    Il faut créer manuellement le la vue PHP `monCOmposant.twig` dans le dossier 
    `dist/public/themes/wordpress/{nom-du-theme}/templates/`





